@import '@/styles/utils/breakpoints';
@import '@/styles/utils/variables';

.about-layout {
  display: grid;
  gap: 40px;
  max-width: 1440px;
  margin: 0 auto;
  padding: 40px 20px;

  // Mobile: только контент
  grid-template-columns: 1fr;
  grid-template-areas: 'content';

  // Tablet (768px+): контент + sidebar
  @include md {
    grid-template-columns: 1fr 280px;
    grid-template-areas: 'content sidebar';
    gap: 60px;
  }

  // Desktop (1024px+): TOC + контент + sidebar
  @include lg {
    grid-template-columns: 220px 1fr 300px;
    grid-template-areas: 'toc content sidebar';
    gap: 80px;
  }

  // TOC - Table of Contents (слева)
  &__toc {
    display: none;

    @include lg {
      display: block;
      grid-area: toc;
      position: sticky;
      top: 100px; // AppBar height + отступ
      align-self: start;
      max-height: calc(100vh - 120px);
      overflow-y: auto;

      // Скрыть скроллбар, но оставить функциональность
      scrollbar-width: thin;
      scrollbar-color: var(--border-color) transparent;

      &::-webkit-scrollbar {
        width: 4px;
      }

      &::-webkit-scrollbar-thumb {
        background: var(--border-color);
        border-radius: 4px;
      }
    }
  }

  // Основной контент
  &__content {
    grid-area: content;
    min-width: 0; // Prevent grid blowout
  }

  // Sidebar (справа)
  &__sidebar {
    display: none;

    @include md {
      display: block;
      grid-area: sidebar;
      position: sticky;
      top: 100px; // AppBar height + отступ
      align-self: start;
      max-height: calc(100vh - 120px);
      overflow-y: auto;

      // Скрыть скроллбар
      scrollbar-width: thin;
      scrollbar-color: var(--border-color) transparent;

      &::-webkit-scrollbar {
        width: 4px;
      }

      &::-webkit-scrollbar-thumb {
        background: var(--border-color);
        border-radius: 4px;
      }
    }
  }
}
