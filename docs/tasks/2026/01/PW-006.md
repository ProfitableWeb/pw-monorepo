# PW-006: –ú—É–ª—å—Ç–∏–≥–∏—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (GitVerse + GitHub + SourceCraft)

## üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–¥–∞—á–µ

- **ID**: PW-006
- **–°—Ç–∞—Ç—É—Å**: TODO
- **–°–æ–∑–¥–∞–Ω–æ**: 2026-01-04
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: Normal üìã
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: üîß DevOps
- **–¢–µ–≥–∏**: #devops #git #mirrors #cicd

## üéØ –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏

### –û–ø–∏—Å–∞–Ω–∏–µ

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º—É–ª—å—Ç–∏–≥–∏—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –∑–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –≤—ã–±–æ—Ä–æ–º –≥–ª–∞–≤–Ω–æ–≥–æ
—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è CI/CD.

### –¶–µ–ª—å

- –ö–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö (—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –û–¥–∏–Ω –≥–ª–∞–≤–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –¥–µ–ø–ª–æ–π
- –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –∑–µ—Ä–∫–∞–ª–∞ (read-only –∏–ª–∏ sync)

### –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞       | URL                   | –†–æ–ª—å                              |
| --------------- | --------------------- | --------------------------------- |
| **GitVerse**    | gitverse.ru           | –û—Å–Ω–æ–≤–Ω–æ–π (—Ä–æ—Å—Å–∏–π—Å–∫–∏–π)             |
| **GitHub**      | github.com            | –ó–µ—Ä–∫–∞–ª–æ / –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π           |
| **SourceCraft** | sourceforge.yandex.ru | –ó–µ—Ä–∫–∞–ª–æ / Yandex Cloud –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†—É—á–Ω–æ–µ –∑–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –î–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ remote
git remote add github git@github.com:user/repo.git
git remote add sourcecraft git@sourcecraft.yandex.ru:user/repo.git

# Push –≤–æ –≤—Å–µ
git push origin master
git push github master
git push sourcecraft master

# –ò–ª–∏ —Å–∫—Ä–∏–ø—Ç push-all
git remote | xargs -I {} git push {} master
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ CI/CD

–í `.gitlab-ci.yml` –¥–æ–±–∞–≤–∏—Ç—å job –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

```yaml
mirror:
  stage: deploy
  only:
    - master
  script:
    - git push --mirror git@github.com:user/repo.git
    - git push --mirror git@sourcecraft.yandex.ru:user/repo.git
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è –≤—ã–±–æ—Ä–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–§–∞–π–ª `deploy.config.yml`:

```yaml
# –ö–∞–∫–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –¥–µ–ø–ª–æ–π
primary_git: gitverse # gitverse | github | sourcecraft

repositories:
  gitverse:
    url: https://gitverse.ru/profitableweb.ru/pw-monorepo.git
    ci: gitlab-ci
  github:
    url: https://github.com/profitableweb/pw-monorepo.git
    ci: github-actions
  sourcecraft:
    url: https://sourcecraft.yandex.ru/profitableweb/pw-monorepo.git
    ci: sourcecraft-ci
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ CI/CD —Ñ–∞–π–ª–æ–≤

```
.github/workflows/deploy.yml    # GitHub Actions
.gitlab-ci.yml                  # GitVerse / GitLab
.sourcecraft-ci.yml             # SourceCraft (–µ—Å–ª–∏ –µ—Å—Ç—å)
deploy.config.yml               # –ö–æ–Ω—Ñ–∏–≥ –≤—ã–±–æ—Ä–∞ –≥–ª–∞–≤–Ω–æ–≥–æ
```

### –£—Å–ª–æ–≤–Ω—ã–π –¥–µ–ø–ª–æ–π

–í –∫–∞–∂–¥–æ–º CI —Ñ–∞–π–ª–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å `deploy.config.yml`:

```yaml
# –ü—Å–µ–≤–¥–æ–∫–æ–¥
if primary_git == "this_platform": run_deploy()
else: skip("Not primary repository")
```

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### TODO ‚Üí DOING

- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –±—É–¥–µ—Ç primary
- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ GitHub –∏ SourceCraft
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á–∏ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

### DOING ‚Üí TESTING

- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å git remotes –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å push –≤–æ –≤—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –°–æ–∑–¥–∞—Ç—å `deploy.config.yml`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å CI/CD –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ primary

### TESTING ‚Üí DONE

- [ ] –î–µ–ø–ª–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å primary —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- [ ] –ó–µ—Ä–∫–∞–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

- **–°–≤—è–∑–∞–Ω–∞ —Å**: PW-005 (Backend API –∏ CI/CD)

## üìù –ó–∞–º–µ—Ç–∫–∏

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º—É–ª—å—Ç–∏–≥–∏—Ç

- **–†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ**: –µ—Å–ª–∏ –æ–¥–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É–ø–∞–¥—ë—Ç (–∫–∞–∫ GitVerse —Å–µ–π—á–∞—Å) ‚Äî –∫–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω
- **–ì–∏–±–∫–æ—Å—Ç—å**: –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å primary –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
- **–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ—Å—Ç—å**: GitHub –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏

### –†–∏—Å–∫–∏

- ‚ö†Ô∏è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è
- ‚ö†Ô∏è –°–µ–∫—Ä–µ—Ç—ã –Ω—É–∂–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ —É–ø—Ä–∞–≤–ª—è—Ç—å issues/PR –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

–î–µ—Ä–∂–∞—Ç—å **–æ–¥–∏–Ω primary** –¥–ª—è issues, PR, CI/CD. –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî —á–∏—Å—Ç—ã–µ –∑–µ—Ä–∫–∞–ª–∞ –∫–æ–¥–∞.

---

**–°—Ç–∞—Ç—É—Å—ã**: TODO ‚Üí DOING ‚Üí TESTING ‚Üí CODEREVIEW & DOCS ‚Üí DONE
